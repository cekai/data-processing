import numpy as np

def process_predictions():
    x = np.load("x_test.npy")
    y = np.load("y_test.npy")
    y_pred = np.load("y_pred.npy")
    
    correct_0 = []
    correct_1 = []
    false_1 = [] #should be 0
    false_0 = [] #should be 1
    
    for i in range(len(x)):
        if (int(y[i])) == 0 and (int(y_pred[i])) == 0:
            correct_0.append(x[i])
        if (int(y[i])) == 1 and (int(y_pred[i])) == 1:
            correct_1.append(x[i])
        if (int(y[i])) == 0 and (int(y_pred[i])) == 1:
            false_1.append(x[i])
        if (int(y[i])) == 1 and (int(y_pred[i])) == 0:
            false_0.append(x[i])
    
    f= open("predictions_summary.txt","w+")
    
    f.write("------Total number of test samples: " +  str(len(x)) + ' \n')
    f.write("------------True 0, Labeled 1: " +  str(len(false_1)) + ' \n')
    f.write("------------True 1, Labeled 0: " +  str(len(false_0)) + ' \n')
    f.write("------------True 0, Labeled 0: " +  str(len(correct_0)) + ' \n')
    f.write("------------True 1, Labeled 1: " +  str(len(correct_1)) + ' \n')


    f.write(' \n')
    f.write(' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write(".............................True 0, Labeled 1..........................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
    for i in range(len(false_1)):
        f.write(false_1[i] + ' . \n')
    f.write(' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write(".............................True 1, Labeled 0..........................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
        
    for i in range(len(false_0)):
        f.write(false_0[i] + ' . \n')
    f.write(' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write(".............................True 0, Labeled 0..........................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
        
    for i in range(len(correct_0)):
        f.write(correct_0[i] + ' . \n')
    
    f.write(' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write(".............................True 2, Labeled 1..........................." + ' \n')
    f.write("........................................................................." + ' \n')
    f.write("........................................................................." + ' \n')
        
    for i in range(len(correct_1)):
        f.write(correct_1[i] + ' . \n')
        
    f.close()

process_predictions()
